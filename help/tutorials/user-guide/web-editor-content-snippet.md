---
title: データソースからコンテンツスニペットを挿入する
description: データソースからコンテンツスニペットを挿入する方法を説明します
source-git-commit: e4fcf6c7b7e69d83edb91e25081dae6e7cf1ae89
workflow-type: tm+mt
source-wordcount: '608'
ht-degree: 0%

---


# データソースからコンテンツスニペットを挿入する

AEMガイドでは、データソースに接続する機能を提供します。 データを取得し、トピックに挿入して編集できます。 コンテンツスニペットジェネレーターを使用して、コンテンツスニペットを簡単に作成し、トピック内で再利用できます。

コンテンツスニペットジェネレーターを使用してコンテンツスニペットを作成し、トピックに挿入するには、次の手順を実行します。

1. 選択 **データソース** ![](images/data-source-icon.svg)   （左側のパネル）に、接続されているデータソースが表示されます。 Data Sources パネルが開き、接続されているすべてのデータソースが表示されます。 詳しくは、 [データソースコネクタの設定](../cs-install-guide/conf-data-source-connector.md).
   >[!NOTE]
   >
   > 管理者がコネクタを設定したデータソースが表示されます。

1. データソースを選択して、選択したデータソースで使用可能なコンテンツスニペットジェネレーターを表示します。
   ![](images/code-snippet-generator.png){width="300" align="left"}
1. 選択 **追加** 新しいコンテンツスニペットジェネレーターを追加するには： この **コンテンツスニペットジェネレーターを追加** パネルが開きます。

1. 「データクエリ」テキストボックスにクエリを入力します。
1. データソースとマッピングするテンプレートを、 **データマッピングテンプレート** ドロップダウン。
選択したデータソースの標準テンプレートがドロップダウンに表示されます。 例えば、「PostgreSQL」データソース用の「sql-table」テンプレートを表示できます。

   >[!NOTE]
   >  
   > 管理者がカスタマイズしたテンプレートを設定している場合は、（管理者がおこなったテンプレートパス設定に基づいて）ドロップダウンリストにもこれらのテンプレートが表示されます。

1. クリック **取得** をクリックしてデータソースからデータを取得し、SQL クエリの結果のデータにテンプレートを適用します。
1. データは、プレビューまたは DITA ソース表示で表示できます。

   1. プレビューでは、コンテンツにデータを挿入したときのデータの表示方法を確認できます。 プレビューには、選択したテンプレートの形式で、データのごく一部が表示されます。
次に例を示します。
      * SQL-table テンプレートを選択した場合は、SQL データを表形式で表示できます。
      * Jira 順序付きリストテンプレートを選択した場合、Jira の問題に関する順序付きリストを表示できます。

   1. ソース・ビューには、DITA ソース・ビューのデータが表示されます。
      ![](images/add-content-snippet-generator.png){width="800" align="left"}
1. クエリの結果を保存するには、ジェネレーターの名前を入力し、 **追加**.   新しいコンテンツスニペットジェネレーターがリストに追加されます。

   >[!NOTE]
   >
   > 新しいコンテンツジェネレーターの名前は、ファイル命名規則に従う必要があります。 コンテンツスニペットジェネレーターの名前にスペースを含めることはできません。 また、既存のコンテンツジェネレーターの名前を持つ新しいコンテンツジェネレーターを保存することはできません。 エラーが発生しました。

## コンテンツスニペットジェネレーターのオプション

コンテンツスニペットジェネレーターを右クリックして、オプションを開きます。 オプションを使用して、次の操作を実行できます。
* **挿入**:このオプションを使用して、Web エディターで編集用に開かれたトピックに、選択したコンテンツスニペットを挿入します。 データがスニペットとして挿入されると、Web エディターでトピック内のデータを編集することもできます。

  >[!NOTE]
  > 
  > 挿入オプションは、トピックの編集中にのみ表示されます。

* **編集**:コンテンツスニペットジェネレーターで変更を加え、保存するには、このオプションを使用します。
* **削除**:選択したコンテンツスニペットジェネレーターを削除するには、このオプションを使用します。
* **複製**:選択したコンテンツスニペットジェネレーターの複製またはコピーを作成するには、このオプションを使用します。 複製は、デフォルトでサフィックス（generator_1 など）を付けて作成されます。

### クエリスニペットを挿入

また、 **クエリスニペットの挿入** ![](images/data-source-icon.svg)   をメインツールバーから選択し、データスニペットをトピックに挿入します。  ドロップダウンからジェネレーターを選択したり、クエリを編集したり、テンプレートを変更してトピックにデータを挿入したりできます。

![](images/insert-content-snippet.png){width="800" align="left"}




