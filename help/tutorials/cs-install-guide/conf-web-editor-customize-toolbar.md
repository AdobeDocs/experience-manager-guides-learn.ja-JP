---
title: ツールバーのカスタマイズ
description: ツールバーをカスタマイズする方法を説明します
source-git-commit: 7306c1c3fbf37c049f9de1b2b492bb9b8906b065
workflow-type: tm+mt
source-wordcount: '955'
ht-degree: 0%

---


# ツールバーのカスタマイズ {#id172FB00L0V6}

デフォルトでは、Web エディターには、任意の DITA エディターで必要とされる最も一般的な編集機能が付属しています。 リストタイプ（番号付きまたは箇条書き）、相互参照、コンテンツ参照、テーブル、段落、文字書式の要素の挿入などの機能をエディターで使用できます。 これらの基本的な要素に加えて、 Web エディターをカスタマイズして、オーサリング環境で使用する要素を挿入できます。

Web エディタのツールバーをカスタマイズする方法は 2 つあります。

- ツールバーへの新しい機能の追加

- ツールバーから既存の機能を削除します。


## ツールバーに機能を追加する

Web エディターに機能を追加するには、主に 2 つのタスクが必要です。 *ui\_config.json* ファイルを作成し、JavaScript でバックグラウンド機能を追加する方法について説明します。

Web エディタのツールバーに機能を追加するには、次の手順を実行します。

1. UI 設定ファイルをダウンロードするには、管理者としてAdobe Experience Managerにログインします。

1. 上部の「 Adobe Experience Manager 」リンクをクリックし、「 」を選択します。 **ツール**.
1. 選択 **ガイド**&#x200B;ツールのリストから、 **フォルダープロファイル**.
1. をクリックします。 **グローバルプロファイル** タイル。
1. を選択します。 **XML エディター設定** タブをクリックし、 **編集** 上部のアイコン
1. 次をクリック： **ダウンロード** アイコンを使用して、ui\_config.json ファイルをローカルシステムにダウンロードします。 その後、ファイルに変更を加えてから、同じファイルをアップロードできます。
1. 内 `ui_config.json` ファイルを開き、新しい機能の定義を「ツールバー」セクションに追加します。 ファイルを保存してアップロードします。

   通常は、新しいツールバーボタングループを作成し、そのグループに 1 つ以上のツールバーボタンを追加できます。 または、既存のツールバーグループ内に新しいツールバーボタンを追加できます。 新しいツールバーグループを作成するには、次の詳細が必要です。

   **type**:指定 `blockGroup` を `type` の値です。 この値は、1 つ以上のツールバーグループを含むブロックグループを作成していることを示します。

   **抽出**:スペースで区切られたクラスの名前。

   **項目**:ツールバーのすべてのグループの定義を指定します。 各グループには、1 つまたは複数のツールバーアイコンを含めることができます。 ツールバーグループ内でアイコンを定義するには、 `type` 属性 `items`を設定し、値を `buttonGroup`. で 1 つ以上のクラス名を指定します。 `extraclass` プロパティ。 フィーチャ名を `label` プロパティ。 次のスニペット： `ui_config.json` ファイルには、メインツールバーブロックの定義が表示され、その後に `buttonGroup` 定義：

       &quot;&#39;
       &quot;toolbar&quot;:{
       &quot;type&quot;:&quot;blockGroup&quot;,
       &quot;extraclass&quot;:
       &quot;toolbar operations&quot;,
       &quot;items&quot;:[
       {
       &quot;type&quot;:&quot;buttonGroup&quot;,
       &quot;extraclass&quot;:&quot;left-controls&quot;,
       &quot;label&quot;:「左のコントロール」
       &quot;items&quot;:[
       &quot;&#39;
   
   内 `items` コレクションに含める場合は、1 つ以上のツールバーアイコンの定義を指定する必要があります。

   ツールバーアイコンを追加するには、次のプロパティを定義する必要があります。

   **type**:指定 `button` を `type` の値です。 この値は、ツールバーボタンを追加しようとしていることを示します。

   **アイコン**:ツールバーで使用する Coral アイコンの名前を指定します。

   **バリアント**:指定 `quiet` を `variant` の値です。

   **タイトル**:アイコンのツールチップを指定します。

   **クリック時**:JavaScript ファイルで、機能に対して定義されたコマンド名を指定します。 コマンドに入力パラメータが必要な場合は、コマンド名を次のように指定します。

       &quot;&#39;JavaScript
       &quot;on-click&quot;:{&quot;name&quot;:&quot;AUTHOR_INSERT_ELEMENT&quot;, &quot;args&quot;:&quot;simpletable&quot;}
       &quot;&#39;
   
   **表示または非表示**:次を定義する場合、 `show` プロパティを使用して、アイコンが表示されるモードを指定します。 指定できる値は — です。 `@isAuthorMode`, `@isSourceMode`, `@isPreviewMode`, `true` \（すべてのモードで表示\）または `false` \（すべてのモードで非表示にします\）。

   の代わりに `show`を使用する場合、 `hide` プロパティ。 指定可能な値は、 `show` プロパティの値は、指定したモードではアイコンが表示されないという違いだけです。

   次の例は、ユーザーがツールバーのバージョンを表示アイコンをクリックしたときのAEM Guides のバージョン番号を示しています。

   次のコードを JavaScript ファイルに追加します。

   ```Javascript
   $(document).ready(setTimeout(function() {
                           fmxml.commandHandler.subscribe({
                           key: 'user.alert',
                           next: function() {
                           alert("AEM Guides version x.x")
                           }
                           })
                           }, 1000))
   ```

   機能を *ui\_config.json* ファイルの形式：

   ```Javascript
   "type": "button",
   "icon": "alert","variant": "quiet","title": "About AEM Guides","show": "true","on-click": "user.alert"
   ```

1. の作成 *clientlib* フォルダーに追加し、このフォルダーに JavaScript を追加します。

1. の categories プロパティを更新します。 *clientlib* フォルダーを作成するには、 *apps.fmdita.xml\_editor.page\_overrides*.

1. 保存する *ui\_config.json* ファイルを作成し、Web エディタを再読み込みします。


## ツールバーからフィーチャを削除する

Web エディタで現在利用可能なすべての機能を提供したくない場合は、不要な機能を Web エディタのツールバーから削除できます。

ツールバーから不要な機能を削除するには、次の手順を実行します。

1. UI 設定ファイルをダウンロードするには、管理者としてAdobe Experience Managerにログインします。

1. 上部の「 Adobe Experience Manager 」リンクをクリックし、「 」を選択します。 **ツール**.
1. 選択 **ガイド** ツールのリストから、 **フォルダープロファイル**.
1. をクリックします。 **グローバルプロファイル** タイル。
1. を選択します。 **XML エディター設定** タブをクリックし、 **編集** 上部のアイコン
1. 次をクリック： **ダウンロード** アイコンを使用して、ui\_config.json ファイルをローカルシステムにダウンロードします。 その後、ファイルに変更を加えてから、同じファイルをアップロードできます。

   この `ui_config.json` ファイルには 3 つのセクションがあります。

   1. **ツールバー**:このセクションには、エディタのツールバーで使用できるすべての機能の定義が含まれます ( 番号付きリストの挿入/削除、\(file\) 閉じる、保存、コメントなど )。

   1. **ショートカット**:この節では、エディターの特定の機能に割り当てられるキーボードショートカットの定義について説明します。

   1. **テンプレート**:この節では、文書で使用できる DITA 要素の事前定義済みの構造を示します。 デフォルトでは、「テンプレート」セクションには、段落、単純なテーブル、テーブルおよび本文の各要素のテンプレート定義が含まれています。 任意の要素のテンプレート定義を作成するには、目的の要素に有効な XML 構造を追加します。 例えば、 `p` 新たに `li` 要素をリストに追加すると、テンプレートセクションの最後に次のコードを追加して、これを実現できます。

   ```css
   "li": "<li><p></p></li>"
   ```

1. 「ツールバー」セクションで、ユーザーに表示しない機能のエントリを削除します。

1. 保存する *ui\_config.json* ファイルを作成し、Web エディタを再読み込みします。


**親トピック：**[ Web エディタのカスタマイズ](conf-web-editor.md)

